{"version":3,"sources":["components/Dialogs/Dialogs.module.css","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","className","s","dialog","avatar","src","alt","to","id","name","Message","messages","message","maxLength50","maxLengthCreator","AddMessageFormRedux","reduxForm","form","onSubmit","handleSubmit","Field","component","Textarea","validate","required","placeholder","Dialogs","state","dialogsPage","dialogsElements","dialogs","map","d","messagesElements","m","isAuth","dialogsItems","values","addMessage","newMessageText","mapStateToPropsForRedirect","auth","compose","connect","Component","RedirectComponent","this","React"],"mappings":"qGACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,OAAS,wBAAwB,SAAW,0BAA0B,OAAS,0B,sGCYnMC,EATI,SAACC,GAClB,OACE,sBAAKC,UAAWC,IAAEC,OAAlB,UACE,qBAAKF,UAAWC,IAAEE,OAAQC,IAAI,gEAAgEC,IAAI,WAClG,cAAC,IAAD,CAASC,GAAI,YAAcP,EAAMQ,GAAjC,SAAsCR,EAAMS,WCDnCC,EAJC,SAACV,GACf,OAAO,qBAAKC,UAAWC,IAAES,SAAlB,SAA6BX,EAAMY,W,yCCkCtCC,EAAcC,YAAiB,IAkB/BC,EAAsBC,YAAU,CAACC,KAAM,wBAAjBD,EAhBL,SAAChB,GACtB,OACE,uBAAMkB,SAAUlB,EAAMmB,aAAtB,UACE,8BACE,cAACC,EAAA,EAAD,CAAOC,UAAWC,IACXC,SAAU,CAACC,IAAUX,GACrBJ,KAAK,iBACLgB,YAAY,yBAErB,8BACE,kDAQOC,EAjDC,SAAC1B,GAEf,IAAI2B,EAAQ3B,EAAM4B,YAEdC,EAAkBF,EAAMG,QACvBC,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAYvB,KAAMuB,EAAEvB,KAAiBD,GAAIwB,EAAExB,IAAZwB,EAAExB,OAE7CyB,EAAmBN,EAAMhB,SACtBoB,KAAI,SAAAG,GAAC,OAAI,cAAC,EAAD,CAAStB,QAASsB,EAAEtB,SAAcsB,EAAE1B,OAMlD,OAAKR,EAAMmC,OAGT,sBAAKlC,UAAWC,IAAE4B,QAAlB,UACE,qBAAK7B,UAAWC,IAAEkC,aAAlB,SACGP,IAEH,sBAAK5B,UAAWC,IAAES,SAAlB,UACE,8BAAMsB,IACN,cAAClB,EAAD,CAAqBG,SAbT,SAACmB,GACfrC,EAAMsC,WAAWD,EAAOE,yBAGF,cAAC,IAAD,CAAUhC,GAAG,Y,+CCnBrCiC,EAA6B,SAACb,GAAD,MAAY,CACzCQ,OAAQR,EAAMc,KAAKN,S,OCSRO,sBACbC,aARoB,SAAChB,GACrB,MAAO,CACLC,YAAaD,EAAMC,YACnBO,OAAQR,EAAMc,KAAKN,UAKI,CAACG,kBDPI,SAACM,GAAe,IAEtCC,EAFqC,uKAInC,OAAKC,KAAK9C,MAAMmC,OACT,cAACS,EAAD,eAAeE,KAAK9C,QADI,cAAC,IAAD,CAAUO,GAAG,eAJT,GAEXwC,IAAMH,WAStC,OAFqCD,YAAQH,EAARG,CAAoCE,KCH9DH,CAGbhB","file":"static/js/4.e21c0af0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__3-69z\",\"dialogsItems\":\"Dialogs_dialogsItems__1ISXh\",\"active\":\"Dialogs_active__oBORD\",\"dialog\":\"Dialogs_dialog__dW2LA\",\"messages\":\"Dialogs_messages__sajds\",\"avatar\":\"Dialogs_avatar__jzBwy\"};","import React from 'react';\r\nimport s from '../Dialogs.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst DialogItem = (props) => {\r\n  return (\r\n    <div className={s.dialog}>\r\n      <img className={s.avatar} src='https://www.kinonews.ru/insimgs/2019/newsimg/newsimg87089.jpg' alt='avatar'/>\r\n      <NavLink to={'/dialogs/' + props.id}>{props.name}</NavLink>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default DialogItem;\r\n","import React from 'react';\r\nimport s from '../Dialogs.module.css';\r\n\r\nconst Message = (props) => {\r\n  return <div className={s.messages}>{props.message}</div>\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport s from './Dialogs.module.css';\r\nimport DialogItem from \"./DialogItem/DialogItem\";\r\nimport Message from \"./Message/Message\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utils/validators/validators\";\r\n\r\nconst Dialogs = (props) => {\r\n\r\n  let state = props.dialogsPage;\r\n\r\n  let dialogsElements = state.dialogs\r\n      .map(d => <DialogItem name={d.name} key={d.id} id={d.id}/>),\r\n\r\n    messagesElements = state.messages\r\n      .map(m => <Message message={m.message} key={m.id}/>),\r\n\r\n    addNewMessage = (values) => {\r\n      props.addMessage(values.newMessageText);\r\n    };\r\n\r\n  if (!props.isAuth) return <Redirect to='/Login'/>;\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogsItems}>\r\n        {dialogsElements}\r\n      </div>\r\n      <div className={s.messages}>\r\n        <div>{messagesElements}</div>\r\n        <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nconst maxLength50 = maxLengthCreator(50);\r\n\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field component={Textarea}\r\n               validate={[required, maxLength50]}\r\n               name='newMessageText'\r\n               placeholder='Enter your message'/>\r\n      </div>\r\n      <div>\r\n        <button>Send</button>\r\n      </div>\r\n    </form>\r\n  )\r\n};\r\n\r\nconst AddMessageFormRedux = reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm);\r\n\r\nexport default Dialogs;\r\n","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to='/Login'/>;\r\n            return <Component {...this.props} />\r\n        };\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n};\r\n","//import React from 'react';\r\nimport {addMessage} from \"../../Redux/dialogsReducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    dialogsPage: state.dialogsPage,\r\n    isAuth: state.auth.isAuth\r\n  }\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {addMessage}),\r\n  withAuthRedirect\r\n)(Dialogs);\r\n"],"sourceRoot":""}